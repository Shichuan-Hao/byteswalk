# 入门


## 简介

C++ 是一种静态类型的、编译式的、通用的、大小写敏感的、不规则的编程语言，支持过程化编程、面向对象编程和泛型编程。

C++ 被认为是一种中级语言，它综合了高级语言和低级语言的的特点。

C++ 是由 Bjarne Stroustrup 于 1979 年在新泽西美利山贝尔实验室开始设计开发的。C++ 进一步扩充和完善了 C 语言，最初命名为带类的 C，后来在 1983 年更名为 C++。

C++ 是 C 的一个超集，事实上，任何合法的 C 程序都是合法的 C++ 程序。


### 面向对象程序设计

C++ 完全支持面向对象的程序设计，包括面向对象开发的 4 大特性：

- **封装（Encapsulation）**。将数据和方法组合在一起，对外部隐藏实现细节，只公开对外提供的接口，进而提高代码的安全性、可靠性和灵活性。
- **继承（Inheritance）**。从已有类中派生出新类，新类具有已有类的属性和方法，并且可以扩展或修改这些属性和方法，进而提高代码的复用性和可扩展性。
- **多态（Polymorphism）**。同一种操作作用于不同的对象，可以有不同的解释和实现。它可以通过接口或继承实现，可以提高代码的灵活性和可读性。
- **抽象（Abstraction）**。从具体的实例中提取共同的特征，形成抽象类或接口，以便于代码的复用和扩展，抽象类和接口可以让我们专注于高层次的设计和业务逻辑，而不必关注底层的实现细节。

### 标准库

标准的 C++ 由三个重要部分组成：

- 核心语言，提供了所有构建块，包括变量、数据类型和常量，等等。
- C++ 标准库，提供了大量的函数，用来操作文件、字符串等。
- 标准模板库（STL），提供了大量的方法，用来操作数据结构等。

### ANSI 标准

ANSI 标准是为了确保 C++ 的便携性 —— 之所以我们编写的代码能够在 Mac、UNIX、Windows、Alpha 等计算机上通过编译，是因为 ANSI 标准已稳定使用了很长的时间，所有主要的 C++ 编译器的制造商都支持 ANSI 标准。

C++ 支持多种编程风格。我们可以使用 Fortran、C、Smalltalk 等任意一种语言的编程风格来编写代码。每种风格都能有效地保证运行时间效率和空间效率。

C++ 语言在许多行业和领域都有广泛应用，包括：

- **游戏开发**：C++ 是游戏开发领域中最常用的编程语言之一，因为它具有高效的性能和直接控制硬件的能力。许多主要的游戏引擎，如 Unreal Engine 和 Unity，都使用 C++ 编写。
- **嵌入式系统开发**：C++ 可以在嵌入式系统中发挥重要作用，如智能手机、汽车、机器人和家电等领域。由于嵌入式系统通常具有严格的资源限制和实时要求，因此 C++ 的高效性能和内存控制功能非常有用。
- **金融领域**：C++ 在金融领域中被广泛应用，如高频交易、算法交易和风险管理等领域。由于这些应用程序需要高效的性能和对硬件的直接控制，C++ 语言是一个合适的选择。
- **图形图像处理**：C++ 可以用于开发图形和图像处理应用程序，如计算机视觉、计算机图形学和人工智能领域。由于这些应用程序需要高效的计算能力和对硬件的控制，因此 C++ 是一个很好的选择。
- **科学计算和数值分析**：C++ 可以用于开发科学计算和数值分析应用程序，如数值模拟和高性能计算等领域。由于这些应用程序需要高效的计算能力和对硬件的直接控制，C++ 语言是一个很好的选择。


### 标准化


| 发布时间      | 通称                    | 备注
| -----------  |-------------            |-----------
|2020          | C++20, C++2a            | ISO/IEC 14882:2020
|2017          | C++17                   | 	第五个 C++ 标准
|2017          | coroutines TS           | 	协程库扩展
|2017          | ranges TS               | 提供范围机制
|2017          | library fundamentals TS | 标准库扩展
|2016          | concurrency TS          | 用于并发计算的扩展
|2015          | concepts TS             | 概念库，用于优化编译期信息
|2015          | TM TS                   | 	事务性内存操作
|2015          | parallelism TS          | 	用于并行计算的扩展
|2015          | filesystem TS           | 	文件系统
|2014          | C++14                   | 	第四个 C++ 标准
|2011          | -                       | 十进制浮点数扩展
|2011          | C++11                   | 	第三个 C++ 标准
|2010          | -                       | 数学函数扩展
|2007          | C++TR1                  | C++ 技术报告：库扩展
|2006          |  -                      | C++ 性能技术报告
|2003          | C++03                   | 	第二个 C++ 标准
|1998          | C++98                   | 第一个 C++ 标准


## C++ 环境设置

### 本地环境设置

设置 C++ 语言环境，要确保电脑上有**文本编辑器**和**C++ 编译器**两款可用的软件。

#### 文本编辑器

用来写代码，包括 Windows Notepad、OS Edit command、Brief、Epsilon、EMACS 和 vim/vi。文本编辑器的名称和版本在不同的操作系统上可能会有所不同。比如：Notepad 用于 Windows 操作系统上，vim/vi 用于 Windows 和 Linux/UNIX 操作系统上。

通过文本编辑器创建的文件被称为源文件，源文件包含程序源代码。C++ 程序的源文件通常使用扩展名 `.cpp`、`.cp` 或 `.c`。

#### C++ 编译器
写在源文件的源代码是人可读的，它需要“编译”，转为机器语言，这样 CPU 可以按给定指令执行程序。

C++ 编译器用来把源代码编译成最终的可执行程序。

大多数的 C++ 编译器并不在乎源文件的扩展名，但是如果您未指定扩展名，则默认使用 .cpp。

最常用的免费可用的编译器是 GNU 的 C/C++ 编译器，如果您使用的是 HP 或 Solaris，则可以使用各自操作系统上的编译器。

以下部分将指导您如何在不同的操作系统上安装 GNU 的 C/C++ 编译器。这里同时提到 C/C++，主要是因为 GNU 的 gcc 编译器适合于 C 和 C++ 编程语言。


### 安装 GUN 的 C/C++ 编译器

#### UNIX/Linux 上的安装

对于 Linux 或 UNIX，请在命令行使用下面的命令来检查您的系统上是否安装了 GCC：
```Shell
$ g++ -v
```
如果已经安装了 GNU 编译器，则会显示如下消息：
```
Using built-in specs.
Target: i386-redhat-linux
Configured with: ../configure --prefix=/usr .......
Thread model: posix
gcc version 4.1.2 20080704 (Red Hat 4.1.2-46)
```

#### Mac OS X 上的安装

如果您使用的是 Mac OS X，最快捷的获取 GCC 的方法是从苹果的网站上下载 Xcode 开发环境，并按照安装说明进行安装。一旦安装上 Xcode，您就能使用 GNU 编译器。

Xcode 目前可从 https://developer.apple.com/download 上下载，需要使用 apple ID 登录 。


#### Windows 上的安装

在 Windows 上安装 GCC，需要安装先安装 MinGW。

点击 [mingw-w64.org](https://www.mingw-w64.org)，进入 MinGW 下载页面，下载最新版本的 MinGW 安装程序，命名格式为 `MinGW-<version>.exe`。

当安装 MinGW 时，您至少要安装 `gcc-core`、`gcc-g++`、`binutils` 和 `MinGW runtime`，但是一般情况下都会安装更多其他的项。

而后 MinGW 的 bin 子目录到您的 PATH 环境变量中，这样就可以在命令行中通过简单的名称来指定这些工具。

当完成安装时，您可以从 Windows 命令行上运行 gcc、g++、ar、ranlib、dlltool 和其他一些 GNU 工具。

##### 使用 Visual Studio 编译

//TODO

## g++ 说明

程序 g++ 是将 gcc 默认语言设为 C++ 的一个特殊的版本，链接时它自动使用 C++ 标准库而不用 C 标准库。通过遵循源码的命名规范并指定对应库的名字，用 gcc 来编译链接 C++ 程序是可行的，如下例所示：
```Shell
$ gcc main.cpp -lstdc++ -o main
```

下面是一个保存在文件 helloworld.cpp 中一个简单的 C++ 程序的代码：
```C++
#include <iostream>
using namespace std;
int main()
{
    cout << "Hello, world!" << endl;
    return 0;
}
```
最简单的编译方式：
```Shell
$ g++ helloworld.cpp
```
由于命令行中未指定可执行程序的文件名，编译器采用默认的 a.out。程序可以这样来运行：
```Shell
$ ./a.out
Hello, world!
```
通常我们使用 `-o` 选项指定可执行程序的文件名，以下实例生成一个 helloworld 的可执行文件：
```Shell
$ g++ helloworld.cpp -o helloworld
```
执行 helloworld:
```Shell
$ ./helloworld
Hello, world!
```

如果是多个 C++ 代码文件，如 test1.cpp、test2.cpp，编译命令如下：
```Shell
$ g++ test1.cpp test2.cpp -o test
```

生成一个 runoob 可执行文件。

g++ 有些系统默认是使用 C++98，我们可以指定使用 C++11 来编译 main.cpp 文件：
```Shell
$ g++ -g -Wall -std=c++11 main.cpp
```

### 常用命令

| 选项             | 解释                                                                                |
| ------------    | -------------                                                                |
| `-ansi`         | 只支持 ANSI 标准的 C 语法。此项将禁止 GNU C 的某些特色，如 asm 或 typeof 关键词。| 
| `-c`            | 只编译并生成目标文件。                                                         |
| `-DMACRO`       | 以字符串"1"定义 MACRO 宏。                                                             |
| `-DMACRO=DEFN`  | 以字符串"DEFN"定义 MACRO 宏。                                                          |
| `-E`            | 只运行 C 预编译器。                                                                    |
| `-g`            | 生成调试信息。GNU 调试器可利用该信息。                                                   |
| `-IDIRECTORY`   | 指定额外的头文件搜索路径DIRECTORY。                                                     |
| `-LDIRECTORY`   | 指定额外的函数库搜索路径DIRECTORY。                                                     |
| `-lLIBRARY`     | 连接时搜索指定的函数库LIBRARY。                                                         |
| `-m486`         | 针对 486 进行代码优化。                                                                 |
| `-o`            | FILE 生成指定的输出文件。用在生成可执行文件时。                                           |
| `-O0`           | 不进行优化处理。                                                                       |
| `-O`            | 或 -O1 优化生成代码。                                                                  |
| `-O2`           | 进一步优化。                                                                           |
| `-O3`           | 比 -O2 更进一步优化，包括 inline 函数。                                                 |
| `-shared`       | 生成共享目标文件。通常用在建立共享库时。                                                 |
| `-static`       | 禁止使用共享连接。                                                                     |
| `-UMACRO`       | 取消对 MACRO 宏的定义。                                                                |
| `-w`            | 不生成任何警告信息。                                                                    |
| `-Wall`         | 生成所有警告信息。                                                                      |